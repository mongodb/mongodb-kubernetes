apiVersion: mongodb.com/v1
kind: ClusterMongoDBRole
metadata:
  name: customrole-without-empty-strings
spec:
  role: "myClusterwideAdminWithoutEmptyStrings"
  db: "admin"
  roles:
    - db: "admin"
      role: "read"
  privileges:
    - resource:
        db: "config"
      actions:
        - "find"
        - "update"
        - "insert"
        - "remove"
    - resource:
        db: "users"
        collection: "usersCollection"
      actions:
        - "update"
        - "insert"
        - "remove"
    - resource: {}
      actions:
        - "find"
  authenticationRestrictions:
    - clientSource:
        - "127.0.0.0/8"
      serverAddress:
        - "10.0.0.0/8"
